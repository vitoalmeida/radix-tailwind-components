import{hideOthers as e}from"aria-hidden";import{RemoveScroll as o}from"react-remove-scroll";import{useId as r}from"@radix-ui/react-id";import{Primitive as t}from"@radix-ui/react-primitive";import{Presence as n}from"@radix-ui/react-presence";import{useFocusGuards as c}from"@radix-ui/react-focus-guards";import{Portal as a}from"@radix-ui/react-portal";import{FocusScope as s}from"@radix-ui/react-focus-scope";import{DismissableLayer as i}from"@radix-ui/react-dismissable-layer";import*as p from"@radix-ui/react-popper";import{createPopperScope as u}from"@radix-ui/react-popper";import{useControllableState as l}from"@radix-ui/react-use-controllable-state";import{createContextScope as d}from"@radix-ui/react-context";import{useComposedRefs as m}from"@radix-ui/react-compose-refs";import{composeEventHandlers as f}from"@radix-ui/primitive";import*as v from"react";import P from"@babel/runtime/helpers/esm/extends";const[C,g]=d("Popover",[u]);export{g as createPopoverScope};const x=u(),[h,E]=C("Popover");export const Popover=e=>{const{__scopePopover:o,children:t,open:n,defaultOpen:c,onOpenChange:a,modal:s=!1}=e,i=x(o),u=v.useRef(null),[d,m]=v.useState(!1),[f=!1,P]=l({prop:n,defaultProp:c,onChange:a});/*#__PURE__*/return v.createElement(p.Root,i,/*#__PURE__*/v.createElement(h,{scope:o,contentId:r(),triggerRef:u,open:f,onOpenChange:P,onOpenToggle:v.useCallback((()=>P((e=>!e))),[P]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback((()=>m(!0)),[]),onCustomAnchorRemove:v.useCallback((()=>m(!1)),[]),modal:s},t))};/*#__PURE__*/export const PopoverAnchor=/*#__PURE__*/v.forwardRef(((e,o)=>{const{__scopePopover:r,...t}=e,n=E("PopoverAnchor",r),c=x(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=n;return v.useEffect((()=>(a(),()=>s())),[a,s]),/*#__PURE__*/v.createElement(p.Anchor,P({},c,t,{ref:o}))}));/*#__PURE__*/export const PopoverTrigger=/*#__PURE__*/v.forwardRef(((e,o)=>{const{__scopePopover:r,...n}=e,c=E("PopoverTrigger",r),a=x(r),s=m(o,c.triggerRef),i=/*#__PURE__*/v.createElement(t.button,P({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":w(c.open)},n,{ref:s,onClick:f(e.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?i:/*#__PURE__*/v.createElement(p.Anchor,P({asChild:!0},a),i)}));/*#__PURE__*/export const PopoverContent=/*#__PURE__*/v.forwardRef(((e,o)=>{const{forceMount:r,...t}=e,c=E("PopoverContent",e.__scopePopover);/*#__PURE__*/return v.createElement(n,{present:r||c.open},c.modal?/*#__PURE__*/v.createElement(A,P({},t,{ref:o})):/*#__PURE__*/v.createElement(O,P({},t,{ref:o})))}));/*#__PURE__*/const A=/*#__PURE__*/v.forwardRef(((r,t)=>{const{allowPinchZoom:n,portalled:c=!0,...s}=r,i=E("PopoverContent",r.__scopePopover),p=v.useRef(null),u=m(t,p),l=v.useRef(!1);v.useEffect((()=>{const o=p.current;if(o)return e(o)}),[]);const d=c?a:v.Fragment;/*#__PURE__*/return v.createElement(d,null,/*#__PURE__*/v.createElement(o,{allowPinchZoom:n},/*#__PURE__*/v.createElement(R,P({},s,{ref:u,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:f(r.onCloseAutoFocus,(e=>{var o;e.preventDefault(),l.current||null===(o=i.triggerRef.current)||void 0===o||o.focus()})),onPointerDownOutside:f(r.onPointerDownOutside,(e=>{const o=e.detail.originalEvent,r=0===o.button&&!0===o.ctrlKey,t=2===o.button||r;l.current=t}),{checkForDefaultPrevented:!1}),onFocusOutside:f(r.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})}))))})),O=/*#__PURE__*/v.forwardRef(((e,o)=>{const{portalled:r=!0,...t}=e,n=E("PopoverContent",e.__scopePopover),c=v.useRef(!1),s=r?a:v.Fragment;/*#__PURE__*/return v.createElement(s,null,/*#__PURE__*/v.createElement(R,P({},t,{ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r,t;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,o),o.defaultPrevented)||(c.current||null===(t=n.triggerRef.current)||void 0===t||t.focus(),o.preventDefault());c.current=!1},onInteractOutside:o=>{var r,t;null===(r=e.onInteractOutside)||void 0===r||r.call(e,o),o.defaultPrevented||(c.current=!0);const a=o.target;(null===(t=n.triggerRef.current)||void 0===t?void 0:t.contains(a))&&o.preventDefault()}})))})),R=/*#__PURE__*/v.forwardRef(((e,o)=>{const{__scopePopover:r,trapFocus:t,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,...C}=e,g=E("PopoverContent",r),h=x(r);return c(),/*#__PURE__*/v.createElement(s,{asChild:!0,loop:!0,trapped:t,onMountAutoFocus:n,onUnmountAutoFocus:a},/*#__PURE__*/v.createElement(i,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:m,onDismiss:()=>g.onOpenChange(!1)},/*#__PURE__*/v.createElement(p.Content,P({"data-state":w(g.open),role:"dialog",id:g.contentId},h,C,{ref:o,style:{...C.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}));export const PopoverClose=/*#__PURE__*/v.forwardRef(((e,o)=>{const{__scopePopover:r,...n}=e,c=E("PopoverClose",r);/*#__PURE__*/return v.createElement(t.button,P({type:"button"},n,{ref:o,onClick:f(e.onClick,(()=>c.onOpenChange(!1)))}))}));/*#__PURE__*/export const PopoverArrow=/*#__PURE__*/v.forwardRef(((e,o)=>{const{__scopePopover:r,...t}=e,n=x(r);/*#__PURE__*/return v.createElement(p.Arrow,P({},n,t,{ref:o}))}));/*#__PURE__*/function w(e){return e?"open":"closed"}export const Root=Popover;export const Anchor=PopoverAnchor;export const Trigger=PopoverTrigger;export const Content=PopoverContent;export const Close=PopoverClose;export const Arrow=PopoverArrow;
//# sourceMappingURL=index.module.js.map
