{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./packages/react/hover-card/src/HoverCard.tsx"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$reexport(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCard\n * -----------------------------------------------------------------------------------------------*/\n\nconst HOVERCARD_NAME = 'HoverCard';\n\ntype ScopedProps<P> = P & { __scopeHoverCard?: Scope };\nconst [createHoverCardContext, createHoverCardScope] = createContextScope(HOVERCARD_NAME, [\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype HoverCardContextValue = {\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpen(): void;\n  onClose(): void;\n  onDismiss(): void;\n};\n\nconst [HoverCardProvider, useHoverCardContext] =\n  createHoverCardContext<HoverCardContextValue>(HOVERCARD_NAME);\n\ninterface HoverCardProps {\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  openDelay?: number;\n  closeDelay?: number;\n  children?: React.ReactNode;\n}\n\nconst HoverCard: React.FC<HoverCardProps> = (props: ScopedProps<HoverCardProps>) => {\n  const {\n    __scopeHoverCard,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    openDelay = 700,\n    closeDelay = 300,\n  } = props;\n  const popperScope = usePopperScope(__scopeHoverCard);\n  const openTimerRef = React.useRef(0);\n  const closeTimerRef = React.useRef(0);\n\n  const [open = false, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange,\n  });\n\n  const handleOpen = React.useCallback(() => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => setOpen(true), openDelay);\n  }, [openDelay, setOpen]);\n\n  const handleClose = React.useCallback(() => {\n    clearTimeout(openTimerRef.current);\n    closeTimerRef.current = window.setTimeout(() => setOpen(false), closeDelay);\n  }, [closeDelay, setOpen]);\n\n  const handleDismiss = React.useCallback(() => setOpen(false), [setOpen]);\n\n  // cleanup any queued state updates on unmount\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(openTimerRef.current);\n      clearTimeout(closeTimerRef.current);\n    };\n  }, []);\n\n  return (\n    <HoverCardProvider\n      scope={__scopeHoverCard}\n      open={open}\n      onOpenChange={setOpen}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      onDismiss={handleDismiss}\n    >\n      <PopperPrimitive.Root {...popperScope}>{children}</PopperPrimitive.Root>\n    </HoverCardProvider>\n  );\n};\n\nHoverCard.displayName = HOVERCARD_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'HoverCardTrigger';\n\ntype HoverCardTriggerElement = React.ElementRef<typeof Primitive.a>;\ntype PrimitiveLinkProps = Radix.ComponentPropsWithoutRef<typeof Primitive.a>;\ninterface HoverCardTriggerProps extends PrimitiveLinkProps {}\n\nconst HoverCardTrigger = React.forwardRef<HoverCardTriggerElement, HoverCardTriggerProps>(\n  (props: ScopedProps<HoverCardTriggerProps>, forwardedRef) => {\n    const { __scopeHoverCard, ...triggerProps } = props;\n    const context = useHoverCardContext(TRIGGER_NAME, __scopeHoverCard);\n    const popperScope = usePopperScope(__scopeHoverCard);\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.a\n          data-state={context.open ? 'open' : 'closed'}\n          {...triggerProps}\n          ref={forwardedRef}\n          onPointerEnter={composeEventHandlers(props.onPointerEnter, excludeTouch(context.onOpen))}\n          onPointerLeave={composeEventHandlers(props.onPointerLeave, excludeTouch(context.onClose))}\n          onFocus={composeEventHandlers(props.onFocus, context.onOpen)}\n          onBlur={composeEventHandlers(props.onBlur, context.onClose)}\n          // prevent focus event on touch devices\n          onTouchStart={composeEventHandlers(props.onTouchStart, (event) => event.preventDefault())}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nHoverCardTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'HoverCardContent';\n\ntype HoverCardContentElement = HoverCardContentImplElement;\ninterface HoverCardContentProps extends HoverCardContentImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst HoverCardContent = React.forwardRef<HoverCardContentElement, HoverCardContentProps>(\n  (props: ScopedProps<HoverCardContentProps>, forwardedRef) => {\n    const { forceMount, ...contentProps } = props;\n    const context = useHoverCardContext(CONTENT_NAME, props.__scopeHoverCard);\n    return (\n      <Presence present={forceMount || context.open}>\n        <HoverCardContentImpl\n          data-state={context.open ? 'open' : 'closed'}\n          {...contentProps}\n          onPointerEnter={composeEventHandlers(props.onPointerEnter, excludeTouch(context.onOpen))}\n          onPointerLeave={composeEventHandlers(props.onPointerLeave, excludeTouch(context.onClose))}\n          ref={forwardedRef}\n        />\n      </Presence>\n    );\n  }\n);\n\nHoverCardContent.displayName = CONTENT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype HoverCardContentImplElement = React.ElementRef<typeof PopperPrimitive.Content>;\ntype DismissableLayerProps = Radix.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype PopperContentProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface HoverCardContentImplProps extends PopperContentProps {\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `HoverCard`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n  /**\n   * Event handler called when the focus moves outside of the `HoverCard`.\n   * Can be prevented.\n   */\n  onFocusOutside?: DismissableLayerProps['onFocusOutside'];\n  /**\n   * Event handler called when an interaction happens outside the `HoverCard`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: DismissableLayerProps['onInteractOutside'];\n  /**\n   * Whether the `HoverCard` should render in a `Portal`\n   * (default: `true`)\n   */\n  portalled?: boolean;\n}\n\nconst HoverCardContentImpl = React.forwardRef<\n  HoverCardContentImplElement,\n  HoverCardContentImplProps\n>((props: ScopedProps<HoverCardContentImplProps>, forwardedRef) => {\n  const {\n    __scopeHoverCard,\n    portalled = true,\n    onEscapeKeyDown,\n    onPointerDownOutside,\n    onFocusOutside,\n    onInteractOutside,\n    ...contentProps\n  } = props;\n  const context = useHoverCardContext(CONTENT_NAME, __scopeHoverCard);\n  const popperScope = usePopperScope(__scopeHoverCard);\n  const ref = React.useRef<HoverCardContentImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const PortalWrapper = portalled ? Portal : React.Fragment;\n\n  React.useEffect(() => {\n    if (ref.current) {\n      const tabbables = getTabbableNodes(ref.current);\n      tabbables.forEach((tabbable) => tabbable.setAttribute('tabindex', '-1'));\n    }\n  });\n\n  return (\n    <PortalWrapper>\n      <DismissableLayer\n        asChild\n        disableOutsidePointerEvents={false}\n        onInteractOutside={onInteractOutside}\n        onEscapeKeyDown={onEscapeKeyDown}\n        onPointerDownOutside={onPointerDownOutside}\n        onFocusOutside={onFocusOutside}\n        onDismiss={context.onDismiss}\n      >\n        <PopperPrimitive.Content\n          {...popperScope}\n          {...contentProps}\n          ref={composedRefs}\n          style={{\n            ...contentProps.style,\n            // re-namespace exposed content custom property\n            ['--radix-hover-card-content-transform-origin' as any]:\n              'var(--radix-popper-transform-origin)',\n          }}\n        />\n      </DismissableLayer>\n    </PortalWrapper>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCardArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'HoverCardArrow';\n\ntype HoverCardArrowElement = React.ElementRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = Radix.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface HoverCardArrowProps extends PopperArrowProps {}\n\nconst HoverCardArrow = React.forwardRef<HoverCardArrowElement, HoverCardArrowProps>(\n  (props: ScopedProps<HoverCardArrowProps>, forwardedRef) => {\n    const { __scopeHoverCard, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeHoverCard);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nHoverCardArrow.displayName = ARROW_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction excludeTouch<E>(eventHandler: () => void) {\n  return (event: React.PointerEvent<E>) =>\n    event.pointerType === 'touch' ? undefined : eventHandler();\n}\n\n/**\n * Returns a list of nodes that can be in the tab sequence.\n * @see: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n */\nfunction getTabbableNodes(container: HTMLElement) {\n  const nodes: HTMLElement[] = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node: any) => {\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    },\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode as HTMLElement);\n  return nodes;\n}\n\nconst Root = HoverCard;\nconst Trigger = HoverCardTrigger;\nconst Content = HoverCardContent;\nconst Arrow = HoverCardArrow;\n\nexport {\n  createHoverCardScope,\n  //\n  HoverCard,\n  HoverCardTrigger,\n  HoverCardContent,\n  HoverCardArrow,\n  //\n  Root,\n  Trigger,\n  Content,\n  Arrow,\n};\nexport type { HoverCardProps, HoverCardTriggerProps, HoverCardContentProps, HoverCardArrowProps };\n"],"names":["a","__esModule","default","$parcel$exportWildcard","dest","source","Object","keys","forEach","key","defineProperty","enumerable","get","createHoverCardContext","createHoverCardScope","createContextScope","createPopperScope","usePopperScope","HoverCardProvider","useHoverCardContext","HoverCard","props","__scopeHoverCard","children","open","openProp","defaultOpen","onOpenChange","openDelay","closeDelay","popperScope","openTimerRef","React","useRef","closeTimerRef","setOpen","useControllableState","prop","defaultProp","onChange","handleOpen","useCallback","clearTimeout","current","window","setTimeout","handleClose","handleDismiss","useEffect","_react","createElement","$a9187305359b3319ee1ff04b4d7510$var$HoverCardProvider","scope","onOpen","onClose","onDismiss","_radixUiReactPopper","Root","HoverCardTrigger","forwardRef","forwardedRef","triggerProps","context","Anchor","_babelRuntimeHelpersExtends","asChild","Primitive","ref","onPointerEnter","composeEventHandlers","excludeTouch","onPointerLeave","onFocus","onBlur","onTouchStart","event","preventDefault","HoverCardContent","forceMount","contentProps","Presence","present","$a9187305359b3319ee1ff04b4d7510$var$HoverCardContentImpl","HoverCardContentImpl","portalled","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","composedRefs","useComposedRefs","PortalWrapper","Portal","Fragment","container","nodes","walker","document","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","node","tabIndex","FILTER_ACCEPT","FILTER_SKIP","nextNode","push","currentNode","getTabbableNodes","tabbable","setAttribute","DismissableLayer","disableOutsidePointerEvents","Content","style","HoverCardArrow","arrowProps","Arrow","eventHandler","pointerType","undefined","Trigger"],"version":3,"file":"index.js.map"}