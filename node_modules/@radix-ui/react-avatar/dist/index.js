var e,t,r,a=require("@radix-ui/react-primitive").Primitive,o=require("@radix-ui/react-use-layout-effect").useLayoutEffect,n=require("@radix-ui/react-use-callback-ref").useCallbackRef,c=require("@radix-ui/react-context").createContextScope,s=(e={},t=require("react"),Object.keys(t).forEach((function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})),e),i=(r=require("@babel/runtime/helpers/extends"))&&r.__esModule?r.default:r;const[u,l]=c("Avatar");exports.createAvatarScope=l;const[d,f]=u("Avatar"),g=/*#__PURE__*/s.forwardRef(((e,t)=>{const{__scopeAvatar:r,...o}=e,[n,c]=s.useState("idle");/*#__PURE__*/return s.createElement(d,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:c},/*#__PURE__*/s.createElement(a.span,i({},o,{ref:t})))}));exports.Avatar=g;const m=/*#__PURE__*/s.forwardRef(((e,t)=>{const{__scopeAvatar:r,src:c,onLoadingStatusChange:u=(()=>{}),...l}=e,d=f("AvatarImage",r),g=function(e){const[t,r]=s.useState("idle");return s.useEffect((()=>{if(!e)return void r("error");let t=!0;const a=new window.Image,o=e=>()=>{t&&r(e)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,()=>{t=!1}}),[e]),t}(c),m=n((e=>{u(e),d.onImageLoadingStatusChange(e)}));return o((()=>{"idle"!==g&&m(g)}),[g,m]),"loaded"===g?/*#__PURE__*/s.createElement(a.img,i({},l,{ref:t,src:c})):null}));exports.AvatarImage=m;const p=/*#__PURE__*/s.forwardRef(((e,t)=>{const{__scopeAvatar:r,delayMs:o,...n}=e,c=f("AvatarFallback",r),[u,l]=s.useState(void 0===o);return s.useEffect((()=>{if(void 0!==o){const e=window.setTimeout((()=>l(!0)),o);return()=>window.clearTimeout(e)}}),[o]),u&&"loaded"!==c.imageLoadingStatus?/*#__PURE__*/s.createElement(a.span,i({},n,{ref:t})):null}));exports.AvatarFallback=p;const v=g;exports.Root=v;const x=m;exports.Image=x;const A=p;exports.Fallback=A;
//# sourceMappingURL=index.js.map
