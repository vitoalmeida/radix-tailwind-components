import{useCallbackRef as e}from"@radix-ui/react-use-callback-ref";import*as t from"@radix-ui/react-menu";import{createMenuScope as n}from"@radix-ui/react-menu";import{Primitive as o}from"@radix-ui/react-primitive";import{createContextScope as r}from"@radix-ui/react-context";import{composeEventHandlers as c}from"@radix-ui/primitive";import*as u from"react";import a from"@babel/runtime/helpers/esm/extends";const[s,i]=r("ContextMenu",[n]);export{i as createContextMenuScope};const x=n(),[p,C]=s("ContextMenu");export const ContextMenu=n=>{const{__scopeContextMenu:o,children:r,onOpenChange:c,dir:s,modal:i=!0}=n,[C,m]=u.useState(!1),f=l("ContextMenu",o),d=x(o),M=e(c),R=u.useCallback((e=>{m(e),M(e)}),[M]);return f.isInsideContent?/*#__PURE__*/u.createElement(p,{scope:o,isRootMenu:!1,open:C,onOpenChange:R,modal:i},/*#__PURE__*/u.createElement(t.Sub,a({},d,{open:C,onOpenChange:R}),r)):/*#__PURE__*/u.createElement(p,{scope:o,isRootMenu:!0,open:C,onOpenChange:R,modal:i},/*#__PURE__*/u.createElement(t.Root,a({},d,{dir:s,open:C,onOpenChange:R,modal:i}),r))};/*#__PURE__*/export const ContextMenuTrigger=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:r,...s}=e,i=C("ContextMenuTrigger",r),p=x(r),l=u.useRef({x:0,y:0}),f=u.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),M=u.useRef(0),R=u.useCallback((()=>window.clearTimeout(M.current)),[]),_=e=>{l.current={x:e.clientX,y:e.clientY},i.onOpenChange(!0)};return u.useEffect((()=>R),[R]),/*#__PURE__*/u.createElement(m,{scope:r,isInsideContent:!1},/*#__PURE__*/u.createElement(t.Anchor,a({},p,{virtualRef:f})),/*#__PURE__*/u.createElement(o.span,a({},s,{ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:c(e.onContextMenu,(e=>{R(),e.preventDefault(),_(e)})),onPointerDown:c(e.onPointerDown,d((e=>{R(),M.current=window.setTimeout((()=>_(e)),700)}))),onPointerMove:c(e.onPointerMove,d(R)),onPointerCancel:c(e.onPointerCancel,d(R)),onPointerUp:c(e.onPointerUp,d(R))})))}));/*#__PURE__*/const[m,l]=s("ContextMenuContent",{isInsideContent:!1});export const ContextMenuContent=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=C("ContextMenuContent",o),s=x(o),i={...r,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}};/*#__PURE__*/return u.createElement(m,{scope:o,isInsideContent:!0},c.isRootMenu?/*#__PURE__*/u.createElement(f,a({__scopeContextMenu:o},i,{ref:n})):/*#__PURE__*/u.createElement(t.Content,a({},s,i,{ref:n})))}));/*#__PURE__*/const f=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=C("ContextMenuContent",o),s=x(o),i=u.useRef(!1);/*#__PURE__*/return u.createElement(t.Content,a({},s,r,{ref:n,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:t=>{var n;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),!t.defaultPrevented&&i.current&&t.preventDefault(),i.current=!1},onInteractOutside:t=>{var n;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||c.modal||(i.current=!0)}}))}));export const ContextMenuGroup=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.Group,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuLabel=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.Label,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuItem=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.Item,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuTriggerItem=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.SubTrigger,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuCheckboxItem=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.CheckboxItem,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuRadioGroup=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.RadioGroup,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuRadioItem=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.RadioItem,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuItemIndicator=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.ItemIndicator,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuSeparator=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.Separator,a({},c,r,{ref:n}))}));/*#__PURE__*/export const ContextMenuArrow=/*#__PURE__*/u.forwardRef(((e,n)=>{const{__scopeContextMenu:o,...r}=e,c=x(o);/*#__PURE__*/return u.createElement(t.Arrow,a({},c,r,{ref:n}))}));/*#__PURE__*/function d(e){return t=>"mouse"!==t.pointerType?e(t):void 0}export const Root=ContextMenu;export const Trigger=ContextMenuTrigger;export const Content=ContextMenuContent;export const Group=ContextMenuGroup;export const Label=ContextMenuLabel;export const Item=ContextMenuItem;export const TriggerItem=ContextMenuTriggerItem;export const CheckboxItem=ContextMenuCheckboxItem;export const RadioGroup=ContextMenuRadioGroup;export const RadioItem=ContextMenuRadioItem;export const ItemIndicator=ContextMenuItemIndicator;export const Separator=ContextMenuSeparator;export const Arrow=ContextMenuArrow;
//# sourceMappingURL=index.module.js.map
